<!DOCTYPE html PUBLIC "-//Tigris//DTD XHTML 1.0 Transitional//EN" "http://style.tigris.org/tigris_transitional.dtd">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=iso-8859-1"/>
  <title>Simulation component</title>
  <style type="text/css">
/* <![CDATA[ */ 
@import "css/readyset.css";
@import "css/inst.css";
/*  ]]>
 */
 </style>
  <link rel="stylesheet" type="text/css" href="css/print.css"
 media="print"/>
</head>
<body>
<div class="app">
<div class="readyset">
<h2>Kernel Components &gt; Simulation<br/>
</h2>
<div id="releaseinfo">
<h3>Release Information</h3>
<table class="axial" border="1" cellpadding="3" cellspacing="2">
  <tbody>
    <tr>
      <th>Project:</th>
      <td><a href="index.html">Siconos</a></td>
    </tr>
    <tr>
      <th>Internal Release Number:</th>
      <td>1.0</td>
    </tr>
    <tr>
      <th>Last update:</th>
      <td>November 29, 2006</td>
    </tr>

    <tr>
      <th>Related Documents:</th>
      <td>
      <div> <a href="design.html">Design</a>&nbsp;</div>
      <div> <a href="glossary.html">Glossary</a></div>
      </td>
    </tr>
  </tbody>
</table>
</div>
<!-- /releaseinfo -->
<!-- /processimpact -->
<div id="SimulationComponent">&nbsp;&nbsp; &nbsp;&nbsp; <br />
<h3>Simulation component<br />
</h3>
<table>
  <caption><br />
  </caption> <tbody>
    <tr>
      <th><b>What for?</b></th>
      <td>all classes/objects to define a simulation to solve the
pre-defined NonSmoothDynamicalSystem. </td>
    </tr>
    <tr>
      <th><b>Feature sets:</b></th>
      <td><a href="features.html#F-2.001">F-2001.</a> and <a
 href="features.html#F-2.100">F-2.100</a>, <a
 href="features.html#F-2.106">F-2.106</a>;<br />
      </td>
    </tr>
    <tr>
      <th><b>Depencies:</b></th>
      <td><a href="glossary.html#Siconos/Numerics">Siconos/Numerics</a>,
      <a href="inputOutput.html">Input-output </a>(xml), <a
 href="modelingTools.html">Modeling</a><br />
      </td>
    </tr>
    <tr>
      <th><b>Interfaces:</b></th>
      <td> <a href="glossary.html#Siconos/Numerics">Siconos/Numerics</a></td>
    </tr>
    <tr>
      <th><b>Sources directory name:</b></th>
      <td>Kernel/src/simulationTools </td>
    </tr>
  </tbody>
</table>
<br />
To find more details on objects described in this section, see
<a href="http://siconos.gforge.inria.fr/Doxygen/index.html">Doxygen</a>
documentation of Siconos/Kernel. <br />
<br />

<h3><a class="anchor" name="docSimu">Siconos Simulation and related objects</a></h3><a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a> object is used to describe how a previously defined <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d2d/classNonSmoothDynamicalSystem.html">NonSmoothDynamicalSystem</a> will be computed. <br>
<p>
So before starting any simulation process, you need to have a complete non smooth dynamical system (roughly some DynamicalSystems and some Interactions), attached to a <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/d18/classModel.html">Model</a>. Then the key points of the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a> are:<ul>

<li>the description of a time discretisation (see <a class="el" href="docSimu.html#docSimuTD">Time Discretisation</a>)</li><li>how the dynamical systems are integrate (see <a class="el" href="docSimu.html#docSimuOSI">One Step Integrators</a>)</li><li>how the non smooth problem is written and solved (see <a class="el" href="docSimu.html#docSimuOSNS">One Step Non Smooth Problems</a>)</li></ul>
<p>
Above all these points, a global strategy must be defined. At the time, two possibilities exist in Siconos:<ul>
<li><a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d7/dc9/classTimeStepping.html">TimeStepping</a> scheme</li><li><a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d2/dac/classEventDriven.html">EventDriven</a> algorithm Those two types are derived classes of the base one, <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a>.</li></ul>

<p>
<div align="center">
<img src="classSimulation.png" alt="classSimulation.png">
</div>

For a complete description of Time Stepping and Event Driven algorithm see the User Manual related pages at <a href="http://siconos.gforge.inria.fr/GettingStarted//docSimuMoreauTS.html"> Moreau's Time Stepping scheme </a> or <a href="http://siconos.gforge.inria.fr/GettingStarted//docSimuED.html"> Event Driven algorithm</a>

<p>
Finally to build a <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a>, four steps are required:<ul>
<li>choose a strategy, the type of the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a>: build a <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d7/dc9/classTimeStepping.html">TimeStepping</a> or an <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d2/dac/classEventDriven.html">EventDriven</a> object</li><li>build a <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/dc/d1e/classTimeDiscretisation.html">TimeDiscretisation</a> object</li><li>build one or more <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d8/d72/classOneStepIntegrator.html">OneStepIntegrator</a> objects</li><li>build one or more <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/df/db1/classOneStepNSProblem.html">OneStepNSProblem</a> objects</li></ul>

<p>
and so, the C++ code looks like: <div class="fragment"><pre class="fragment"><span class="comment">// Prerequisite: </span>
<span class="comment">// a Model*, say m, that holds a NonSmoothDynamicalSystem* named nsds. </span>
<span class="comment">//</span>
<span class="comment">// Step 1: choose the strategy, build the Simulation and link it to the Model</span>
<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d7/dc9/classTimeStepping.html">TimeStepping</a> * s = <span class="keyword">new</span> <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d7/dc9/classTimeStepping.html">TimeStepping</a>(m); 

<span class="comment">// or</span>
<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d2/dac/classEventDriven.html">EventDriven</a> * s = <span class="keyword">new</span> <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d2/dac/classEventDriven.html">EventDriven</a>(m);

<span class="comment">// Step 2: the time discretisation, linked with the Simulation when built. </span>
<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/dc/d1e/classTimeDiscretisation.html">TimeDiscretisation</a> * td = <span class="keyword">new</span> <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/dc/d1e/classTimeDiscretisation.html">TimeDiscretisation</a>(...,s)


<span class="comment">// Step 3: OneStepIntegrators; applied to DynamicalSystems that belong to nsds.</span>
<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/de1/classMoreau.html">Moreau</a> * integrator = new <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/de1/classMoreau.html">Moreau</a>(someDS,...,s) ; 
<span class="comment">// or</span>
<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/dbb/classLsodar.html">Lsodar</a> * integrator = new <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/dbb/classLsodar.html">Lsodar</a>(someDS,s);

<span class="comment">// Step 4: OneStepNSProblems; applied to all the Interactions of the nsds.</span>
<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/df/db1/classOneStepNSProblem.html">OneStepNSProblem</a> * lcp = new <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d3/d48/classLCP.html">LCP</a>(s, ...)

</pre></div> Then, from this point the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/d18/classModel.html">Model</a> is complete and the simulation process can start. Its development depends strongly on the chosen strategy and will then be detailed in the corresponding sections (see <a class="el" href="docSimuMoreauTS.html">Moreau's Time Stepping scheme</a> or <a class="el" href="docSimuED.html">Event Driven algorithm</a>).<br>
 Warning: it is important to make a clear difference between the building of the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a>, which is part of the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/d18/classModel.html">Model</a>, and the computation process which consists mainly in some calls to specific functions of the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a>.<h3><a class="anchor" name="docSimuIntro">

Main components of a Simulation</a></h3>
<h3><a class="anchor" name="docSimuTD">
Time Discretisation</a></h3>
The discretization scheme is characterized by a vector of size nSteps+1, denoted tk, that handles the values at each time-step, nSteps being the number of time steps. At the time, only constant time-step (denoted h) time discretisation is available. <br>
 A <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/dc/d1e/classTimeDiscretisation.html">TimeDiscretisation</a> must be linked to one and only one <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a> (required parameter of any constructor). The initial time value is always given by the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/d18/classModel.html">Model</a> that holds the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a>, while the final time value is an optional parameter of the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/d18/classModel.html">Model</a>. Thus depending on the constructor you use, you may need to give the time-step, the final time ... Just take care to avoid redundant or conflicting information. See the constructors list in the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/dc/d1e/classTimeDiscretisation.html">TimeDiscretisation</a> class documentation for full details.<p>

Example: <div class="fragment"><pre class="fragment"><a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/d18/classModel.html">Model</a> * m = <span class="keyword">new</span> <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/d18/classModel.html">Model</a>(t0); <span class="comment">// only initial time is provided</span>
<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d7b/classSimulation.html">Simulation</a> * s = <span class="keyword">new</span> <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d7/dc9/classTimeStepping.html">TimeStepping</a>(m); <span class="comment">// s belongs to the Model m</span>

<span class="keywordtype">double</span> h = ...;
<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nSteps = ...;
<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/dc/d1e/classTimeDiscretisation.html">TimeDiscretisation</a> * td = <span class="keyword">new</span> <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/dc/d1e/classTimeDiscretisation.html">TimeDiscretisation</a>(h, nSteps);
<span class="comment">// tk and final time will be automatically computed. </span>

</pre></div><h3><a class="anchor" name="docSimuOSI">
One Step Integrators</a></h3>
<a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d8/d72/classOneStepIntegrator.html">OneStepIntegrator</a> ("OSI") class defines how Dynamical Systems will be integrated over a time-step. Two types of integrators are available at the time in the platform: <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/de1/classMoreau.html">Moreau</a> (see details in docSimuMoreau) and <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/dbb/classLsodar.html">Lsodar</a>. <br>
 To build an OSI, you need to provide a set of DynamicalSystems (and possibly a set of Interactions) and some specific values depending on the type of the integrator. Moreover, the "size of the memory" (variable sizeMem) can be set: it concerns the number of time steps for which states values are saved, but at the time no multi-steps integrators are available in Siconos, so keep default value, 1.<p>
main functions:<ul>

<li>integrate(t0, t, ...): integrate the system between t0 and t.</li><li>updateState(...): computes DynamicalSystems states values</li></ul>
<h4><a class="anchor" name="docSimuOSIMoreau">
Moreau</a></h4>
Integration thanks to a theta-method. See docSimuMoreau for a full description.<p>
Main variables: <img class="formulaInl" alt="$ \theta $" src="form_162.png"> (a double) and <img class="formulaInl" alt="$ W $" src="form_174.png"> (a matrix of double). One value of each parameter is attached to each <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/dc/da1/classDynamicalSystem.html">DynamicalSystem</a> concerned by the OSI through a map (STL). For example: <div class="fragment"><pre class="fragment"><span class="comment">// allDS is a set of DynamicalSystems : ds1, ds2 ...</span>

<span class="comment">// s is a Simulation*</span>
<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/de1/classMoreau.html">Moreau</a> * integrator = <span class="keyword">new</span> <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/de1/classMoreau.html">Moreau</a>(allDS, 0.5, s);
<span class="comment">// all values of theta are initialized to 0.5</span>

<span class="keywordtype">double</span> theta = integrator-&gt;<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/de1/classMoreau.html#5c4e60f6a35b85cd04214f6a079a97a1">getTheta</a>(ds1);

<span class="comment">// returns the value of theta for the dynamical system ds1.</span>

<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d4/dee/classSiconosMatrix.html">SiconosMatrix</a> * W = integrator-&gt;<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/de1/classMoreau.html#f7e70863b51779b208c2896e595b012e">getW</a>(ds1);
<span class="comment">// W is a SimpleMatrix *, that represents the W linked to ds1. </span>
</pre></div><h4><a class="anchor" name="docSimuLsodar">
Lsodar</a></h4>
This class is an interface for LSODAR, odepack integrator (see <a href="http://www.netlib.org/alliant/ode/doc">http://www.netlib.org/alliant/ode/doc</a>). <br>

 "Lsodar solves problems dy/dt = f with full or banded Jacobian and automatic method selection, and at the same time, it finds the roots of any of a set of given functions of the form g(t,y).  This is often useful for finding stop conditions or points at which switches are to be made in the function f". <br>
 In Siconos, <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/dbb/classLsodar.html">Lsodar</a> is used for <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d2/dac/classEventDriven.html">EventDriven</a> algorithm, to integrate the dynamics with stops at new non-smooth events (violation of a constraint). That will be detailed in <a class="el" href="docSimuED.html">Event Driven algorithm</a>.<p>
Construction: <div class="fragment"><pre class="fragment"><span class="comment">// allDS is a set of DynamicalSystems and s a Simulation*</span>

<a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/dbb/classLsodar.html">Lsodar</a> * integrator = <span class="keyword">new</span> <a class="codeRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/dbb/classLsodar.html">Lsodar</a>(allDS,s);
</pre></div> At the time, all specific parameters of <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/dbb/classLsodar.html">Lsodar</a> are set by default, but you can set them thanks to set functions. See <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d6/dbb/classLsodar.html">Lsodar</a> class doxygen documentation for details.<h3><a class="anchor" name="docSimuOSNS">
One Step Non Smooth Problems</a></h3>

Considering a set of Interactions, the role of the <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/df/db1/classOneStepNSProblem.html">OneStepNSProblem</a> ("OSNS") is to write in a "pleasant" form the non smooth problem and then to solve it. So, the main variables of this class are:<ul>
<li>a type: the form of the problem, <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d3/d48/classLCP.html">LCP</a>, <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/dd/da1/classFrictionContact.html">FrictionContact</a>, <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/d99/classQP.html">QP</a> and <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/da6/classRelay.html">Relay</a> (the two last ones are not fully implemented and so not usable).</li><li>a set of Interactions (actually a link to those of the previously built <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d1/d2d/classNonSmoothDynamicalSystem.html">NonSmoothDynamicalSystem</a>)</li><li>a solver </li></ul>

<h4><a class="anchor" name="docSimuSolvers">
Non smooth solvers</a></h4>
Solvers algorithms are implemented in Numerics package and Kernel <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/de/d9d/classSolver.html">Solver</a> class is just an interface to those algorithms. The possible solvers are:<ul>
<li>LexicoLemke (maxIter)</li><li>NLGS (Non Linear Gauss Seidel) (tolerance, maxIter)</li><li>NSQP (Non Smooth Quadratic Programming) (tolerance)</li><li><a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/db/d99/classQP.html">QP</a> (tolerance)</li><li>CPG (Conjugate Projected Gradient) (tolerance, maxIter)</li><li>Latin (tolerance, maxIter, searchDirection)</li></ul>

<p>
For each of them, the required parameters are indicated between parenthesis. Their default values are:<ul>
<li>maxIter (maximum number of iterations): 101</li><li>tolerance: 0.0001</li><li>normType: "max"</li><li>searchDir: 0.6</li></ul>
<p>
Obviously, depending on the problem type, some solvers fit more than others.<h4><a class="anchor" name="docSimuLCP">
LCP formalization and solving</a></h4>
A Linear Complementarity Problem (<a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d3/d48/classLCP.html">LCP</a>) is defined by : <p class="formulaDsp">

<img class="formulaDsp" alt="\begin{eqnarray*} w = Mz+q \\ w \geq 0, z \geq 0, z^{T} w = 0 \end{eqnarray*}" src="form_180.png">
<p>
 where <img class="formulaInl" alt="$ w \in R^{n} $" src="form_175.png"> and <img class="formulaInl" alt="$ z \in R^{n} $" src="form_176.png"> are the unknowns and <img class="formulaInl" alt="$ M \in R^{n \times n } $" src="form_177.png"> and <img class="formulaInl" alt="$ q \in R^{n} $" src="form_178.png">.<br>
<p>
Thus, "formalizing" a <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d3/d48/classLCP.html">LCP</a> consists in writing M matrix and q vector (functions <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d3/d48/classLCP.html#527d364513bea5211553c26702d1f775">assembleM </a> and <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d3/d48/classLCP.html#cfa63973b4a7743ed6f2b6442e7f88e0">computeQ </a>).<h4><a class="anchor" name="docSimuFriction">

Friction-Contact Non Smooth Problem</a></h4>
In Siconos, a Friction Contact is written as a <a class="elRef" doxygen="DoxygenKernel.tag:http://siconos.gforge.inria.fr/Doxygen/" href="http://siconos.gforge.inria.fr/Doxygen/d3/d48/classLCP.html">LCP</a> like above: <p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} w = Mz+q \\ w \geq 0, z \geq 0, z^{T} w = 0 \end{eqnarray*}" src="form_180.png">
<p>
 plus a Coulomb-Friction law.
<br/>            
</div>
</div>
</div>
</body>
</html>
